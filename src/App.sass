@use "sass:color"

@mixin theme($color)
  $background-base: scale-color($color, $lightness: -40%, $saturation: -50%)
  --color-background: #{$background-base}
  --color-background-pressed: #{scale-color($background-base, $lightness: +5%, $saturation: +20%)}
  --color-background-active: #{scale-color($background-base, $lightness: -10%)}
  --color-background-disabled: #{scale-color($background-base, $saturation: -50%)}

  $border-base: scale-color($color, $lightness: -30%)
  --color-border: #{$border-base}
  --color-border-pressed: #{scale-color($border-base, $lightness: +5%, $saturation: +20%)}
  --color-border-active: #{scale-color($border-base, $lightness: -10%)}
  --color-border-disabled: #{scale-color($border-base, $saturation: -50%)}

  --color-text: #e0e0e0
  --color-text-disabled: #a0a0a0

html
  --square-gap: 1px
  --box-gap: 3px
  --square-size: 4rem
  --button-hue: 120
  @include theme(#d0d020)

.theme-normal
  @include theme(#00a000)
.theme-corner
  @include theme(#00a080)
.theme-center
  @include theme(#0080e0)

body
  background-color: #232730
  color: #d1d2d0

.title
  text-align: center

.square
  background-color: #32393c
  position: relative
  text-align: center

  .number
    font-family: "Literata", serif
    font-size: 2.5em
    font-weight: 500
    line-height: var(--square-size)
    text-align: center

    &.error
      font-style: italic
      font-weight: 300

  .centers,
  .corners
    font-family: "Inconsolata", monospace
    font-size: 1em
    font-weight: 500
    position: absolute
    width: 100%
    height: 100%

  .centers
    line-height: var(--square-size)

  .corners
    align-content: space-between
    display: grid
    grid-template-areas: "a b c" "d e f" "g h i"
    grid-template-rows: 1fr 1fr 1fr
    grid-template-columns: 1fr 1fr 1fr

  &.selected
    background-color: mix(#32393c, #00a0e0, 90%)

  &.cursor
    border: solid 1px #00a0e0

.box
  column-gap: var(--square-gap)
  row-gap: var(--square-gap)
  display: grid
  grid-template-columns: repeat(3, var(--square-size))
  grid-template-rows: repeat(3, var(--square-size))
  user-select: none
  padding: 5px

.board
  column-gap: var(--box-gap)
  row-gap: var(--box-gap)
  display: grid
  grid-template-columns: repeat(3, calc(var(--square-size) * 3 + var(--square-gap) * 2))
  grid-template-rows: repeat(3, calc(var(--square-size) * 3 + var(--square-gap) * 2))
  height: calc(var(--square-size) * 9 + var(--square-gap) * 6 + var(--box-gap) * 2)
  width: calc(var(--square-size) * 9 + var(--square-gap) * 6 + var(--box-gap) * 2)
  margin: 1rem auto

.button-row
  display: flex
  justify-content: center

.button
  background-color: var(--color-background)
  border: solid 1px var(--color-border)
  color: var(--color-text)
  font-size: 1.5em
  padding: 0.2em 0.5em
  margin: 1px

  &:active
    background-color: var(--color-background-pressed)
    border-color: var(--color-border-pressed)

  &:disabled
    background-color: var(--color-background-disabled)
    border-color: var(--color-border-disabled)
    color: var(--color-text-disabled)

  &.active
    background-color: var(--color-background-active)
    border-color: var(--color-border-active)

  &.large
    font-size: 2.5em
